<!doctype html>
<html lang="ru" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Neon Galaxy ‚Äî Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700;900&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg-dark:#030306;
      --neon-green:#00ff88;
      --neon-purple:#8a3cff;
      --accent-pink:#ff2a6d;
      --muted:#bcd5e6;
      --glass: rgba(12,10,16,0.6);
      --ui-bg: rgba(6,6,8,0.6);
    }
    html,body{height:100%;margin:0;padding:0;font-family:'Vazirmatn',sans-serif;direction:rtl;background:var(--bg-dark);color:#e9f6ff;overflow-y:overlay;}
    /* neon scrollbar */
    ::-webkit-scrollbar{width:12px;}
    ::-webkit-scrollbar-track{background: rgba(255,255,255,0.02);border-radius:8px;margin:8px 0;}
    ::-webkit-scrollbar-thumb{background: linear-gradient(180deg, rgba(138,60,255,0.35), rgba(0,255,136,0.35));border-radius:8px;border:2px solid rgba(0,0,0,0.35);}

    /* Canvas background */
    #bgCanvas{position:fixed;inset:0;width:100%;height:100%;z-index:0;pointer-events:none;display:block;background:var(--bg-dark);}

    /* language modal (big) */
    #langModal{position:fixed;inset:0;z-index:4000;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,rgba(0,0,0,0.66),rgba(0,0,0,0.46));backdrop-filter: blur(6px);}
    #langCard{width:520px;max-width:92%;padding:26px;border-radius:18px;background:linear-gradient(180deg, rgba(8,6,12,0.95), rgba(22,12,30,0.8));border:1px solid rgba(255,255,255,0.04);box-shadow:0 30px 100px rgba(0,0,0,0.85);text-align:center;color:#e6f6ff;}
    #langCard h2{font-size:22px;margin:0 0 12px;font-weight:900;color:var(--neon-purple); text-shadow:0 0 18px rgba(138,60,255,0.08);}
    .langRow{display:flex;gap:12px;justify-content:center;margin-top:12px;flex-wrap:wrap;}
    .langBtn{min-width:220px;display:flex;gap:12px;align-items:center;padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);cursor:pointer;background:linear-gradient(90deg, rgba(255,255,255,0.02), transparent);transition:transform .18s,box-shadow .18s;}
    .langBtn:hover{transform:translateY(-6px);box-shadow:0 14px 40px rgba(0,0,0,0.6);}
    .langFlag{width:44px;height:28px;border-radius:6px;background-size:cover;background-position:center;flex-shrink:0;border:1px solid rgba(255,255,255,0.04);}

    /* page wrapper */
    .page{position:relative;z-index:10;min-height:100vh;display:flex;flex-direction:column;align-items:center;padding:48px 18px 40px;gap:18px;box-sizing:border-box;}

    .topbar{width:100%;max-width:1200px;display:flex;justify-content:space-between;align-items:center;gap:12px;}
    .logo{font-weight:900;color:var(--neon-purple);letter-spacing:.6px;text-shadow:0 0 14px rgba(138,60,255,0.06);}

    .container{z-index:10;width:100%;max-width:1200px;display:flex;flex-direction:column;align-items:center;gap:18px;padding:6px;box-sizing:border-box;}

    .download-card{width:100%;max-width:820px;padding:14px;border-radius:14px;background:linear-gradient(180deg, rgba(6,6,8,0.75), rgba(14,10,18,0.45));border:1px solid rgba(255,42,109,0.06);box-shadow:0 12px 50px rgba(0,0,0,0.6);text-align:center;}
    .download-card p{margin:0;color:#ffd6dc;font-weight:700;line-height:1.5;}
    .download-link{display:inline-block;margin-top:10px;padding:10px 16px;border-radius:12px;background:linear-gradient(90deg,var(--accent-pink),var(--neon-purple));color:white;font-weight:900;text-decoration:none;cursor:pointer;border:none;box-shadow:0 12px 40px rgba(255,42,109,0.08);}

    .quick-match{width:100%;max-width:520px;padding:12px;border-radius:12px;background:linear-gradient(180deg,rgba(0,0,0,0.56),rgba(0,0,0,0.22));border:1px solid rgba(0,255,136,0.06);box-shadow:0 8px 36px rgba(0,0,0,0.5);text-align:center;}
    .quick-match h1{font-weight:900;background:linear-gradient(90deg,var(--neon-purple),var(--neon-green));-webkit-background-clip:text;color:transparent;}

    .server-boxes{display:flex;gap:18px;flex-wrap:wrap;justify-content:center;width:100%;max-width:1100px;z-index:10;}
    .server-item{width:320px;background:linear-gradient(180deg,rgba(10,10,12,0.92),rgba(18,12,26,0.6));border-radius:14px;padding:12px;position:relative;overflow:hidden;border:1px solid rgba(255,255,255,0.03);box-shadow:0 18px 70px rgba(0,0,0,0.6);transition:transform .18s,box-shadow .18s;}
    .server-item:hover{transform:translateY(-8px)}
    .main-img{width:100%;height:160px;object-fit:cover;border-radius:8px;display:block;pointer-events:none;}
    .sTitle{margin:10px 0 6px;font-weight:900;background:linear-gradient(90deg,var(--neon-green),var(--neon-purple));-webkit-background-clip:text;color:transparent;}
    .sSub{margin:0;color:#ff9aa2;font-weight:800;}
    .connect-btn{margin-top:12px;padding:.75rem 1.1rem;border-radius:12px;border:none;cursor:pointer;background:linear-gradient(90deg,rgba(0,255,136,0.98),rgba(138,60,255,0.95));font-weight:900;color:black;box-shadow:0 8px 22px rgba(0,0,0,0.45);}

    .server-status{margin-top:14px;min-height:88px;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:10px;}

    .online-badge{width:44px;height:44px;border-radius:50%;position:relative;overflow:hidden;display:inline-block;box-shadow:0 0 14px rgba(0,255,136,0.12);border:1px solid rgba(0,255,136,0.12);background:radial-gradient(circle at 30% 30%,rgba(255,255,255,0.03),transparent 30%);}
    .online-badge .dot{position:absolute;width:10px;height:10px;border-radius:50%;right:6px;bottom:6px;background:radial-gradient(circle,#b7ffd6,#00ff88 60%);box-shadow:0 0 12px rgba(0,255,136,0.9);animation:pulse 1.4s ease-in-out infinite;}
    @keyframes pulse{0%{transform:scale(.8)}50%{transform:scale(1.2)}100%{transform:scale(.9)}}

    .final-msg{padding:10px 12px;border-radius:12px;background:linear-gradient(180deg,rgba(0,0,0,0.45),rgba(10,8,16,0.35));border:1px solid rgba(0,255,136,0.06);width:100%;display:flex;flex-direction:column;align-items:center;gap:8px;}
    .final-msg .main{font-weight:900;color:#fff;}
    .final-msg .sub{color:var(--neon-green);font-weight:900;display:flex;align-items:center;gap:8px;}

    /* loaders / error */
    .loader-wrap{display:flex;flex-direction:column;align-items:center;gap:12px;}
    .loader-name{font-weight:900;color:#fff}

    .error-anim{animation:errShake .9s ease-in-out infinite; border-radius:12px; padding:10px; background: linear-gradient(90deg, rgba(80,0,0,0.25), rgba(120,0,0,0.16)); box-shadow:0 10px 40px rgba(255,0,60,0.06), inset 0 0 26px rgba(255,0,60,0.06); border:1px solid rgba(255,80,90,0.15); color:#ffb7b7;}
    @keyframes errShake{0%{transform:translateX(0)}25%{transform:translateX(-6px)}50%{transform:translateX(6px)}75%{transform:translateX(-4px)}100%{transform:translateX(0)}}

    /* verify notice modal */
    #noticeModal{position:fixed;inset:0;z-index:4500;display:none;align-items:center;justify-content:center;background:linear-gradient(180deg,rgba(0,0,0,0.6),rgba(0,0,0,0.4));backdrop-filter:blur(6px);}
    #noticeCard{width:680px;max-width:92%;padding:20px;border-radius:14px;background:linear-gradient(180deg,rgba(6,6,8,0.95),rgba(20,12,26,0.6));border:1px solid rgba(255,255,255,0.03);box-shadow:0 30px 80px rgba(0,0,0,0.85);color:#eaf8ff;text-align:right;direction:rtl;}
    #noticeCard h3{margin:0 0 8px;font-weight:900;color:var(--neon-purple);}

    /* game section */
    #game-section{width:100%;max-width:920px;margin-top:12px;text-align:center;z-index:10;}
    .game-btn{padding:10px 18px;border-radius:10px;font-weight:900;border:none;cursor:pointer;color:white;box-shadow:0 8px 24px rgba(0,0,0,0.6);transition:transform .12s;}
    #selected-game{margin-top:12px;font-weight:900;font-size:22px;padding:8px 14px;border-radius:12px;background:linear-gradient(90deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03);display:inline-block;min-width:220px;color:transparent;background-clip:text;-webkit-background-clip:text;animation:rgbShift 4s linear infinite;background-image:linear-gradient(90deg,#ff004d,#ff8a00,#ffef00,#00ff88,#6a2bd6,#ff004d);text-align:center;}
    @keyframes rgbShift{0%{background-position:0%}100%{background-position:200%}}

    .toast{position:fixed;left:50%;top:20%;transform:translateX(-50%);z-index:5000;padding:12px 18px;border-radius:12px;background:linear-gradient(90deg,rgba(40,10,20,0.95),rgba(60,20,40,0.9));border:1px solid rgba(255,42,109,0.12);box-shadow:0 20px 60px rgba(0,0,0,0.7);color:white;font-weight:900;opacity:0;transition:opacity .28s,transform .28s;}
    .toast.show{opacity:1;transform:translateX(-50%) translateY(0);}

    /* responsive */
    @media(max-width:920px){
      #langCard{width:92%}
      .server-item{width:100%;max-width:520px}
      #noticeCard{width:94%}
    }
  </style>
</head>
<body>

  <canvas id="bgCanvas" aria-hidden="true"></canvas>

  <!-- Language modal (big, shown on first visit) -->
  <div id="langModal" role="dialog" aria-modal="true" aria-label="Select language">
    <div id="langCard">
      <h2 id="langTitle">Select Language / –í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫</h2>
      <div style="font-weight:700;color:var(--muted);margin-top:6px;text-align:center" id="langSubtitle">–í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</div>
      <div class="langRow" style="margin-top:16px;">
        <div class="langBtn" data-lang="ru">
          <div class="langFlag" style="background-image:url('https://flagcdn.com/w80/ru.png')"></div>
          <div style="text-align:right"><div style="font-weight:900">üá∑üá∫ –†—É—Å—Å–∫–∏–π</div><div style="opacity:0.7;font-size:13px">–Ø–∑—ã–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</div></div>
        </div>
        <div class="langBtn" data-lang="en">
          <div class="langFlag" style="background-image:url('https://flagcdn.com/w80/gb.png')"></div>
          <div style="text-align:right"><div style="font-weight:900">üá¨üáß English</div><div style="opacity:0.7;font-size:13px">Switch to English</div></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Notice modal for Verify message -->
  <div id="noticeModal" aria-hidden="true">
    <div id="noticeCard">
      <h3 id="noticeTitle">ÿßÿ∑ŸÑÿßÿπ€åŸá</h3>
      <div id="noticeBody" style="line-height:1.6;color:#dff7f0"></div>
      <div style="text-align:left;margin-top:12px;">
        <button onclick="closeNotice()" style="padding:8px 12px;border-radius:10px;border:none;background:linear-gradient(90deg,var(--neon-purple),var(--neon-green));color:black;font-weight:900;cursor:pointer">OK</button>
      </div>
    </div>
  </div>

  <div class="toast" id="toast" role="alert" aria-live="polite"></div>

  <div class="page" id="mainPage" aria-hidden="true">
    <div class="topbar">
      <div class="logo" id="logoTitle">NEON GALAXY</div>
      <div style="display:flex;gap:10px;align-items:center;">
        <button id="langToggle" class="langBtn" style="min-width:48px;padding:8px 10px;border-radius:10px" title="Change language">üåê</button>
      </div>
    </div>

    <div class="container">
      <div class="download-card" id="downloadCard">
        <p id="downloadText">–ü–µ—Ä–µ–¥ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º —Å–∫–∞—á–∞–π—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –∏ –ø–æ–º–µ—Å—Ç–∏—Ç–µ –≤ –ø–∞–ø–∫—É <strong style="color:var(--neon-green)">mods</strong> –≤ TLauncher. –í–µ—Ä—Å–∏—è: <strong style="color:#ff9aa2">1.20.1 Forge</strong>.</p>
        <button id="downloadBtn" class="download-link">üì• –°–∫–∞—á–∞—Ç—å</button>
      </div>

      <div class="quick-match" aria-live="polite">
        <h1 id="autoTitle">auto connect</h1>
        <button id="serverListToggle">–°–µ—Ä–≤–µ—Ä–∞ ‚ñ≤</button>
        <div id="serverList" style="opacity:0;max-height:0;overflow:hidden;transition:all .36s;margin-top:10px;">
          <select id="serverSelect" style="padding:8px;border-radius:8px;">
            <option value="1">–°–µ—Ä–≤–µ—Ä 1 ‚Äî –†–æ—Å—Å–∏—è</option>
            <option value="2">–°–µ—Ä–≤–µ—Ä 2 ‚Äî –¢—É—Ä—Ü–∏—è</option>
            <option value="3">–°–µ—Ä–≤–µ—Ä 3 ‚Äî ÿß€åÿ±ÿßŸÜ</option>
          </select>
          <button id="confirmServer" style="margin-top:8px;padding:8px 12px;border-radius:10px;background:linear-gradient(90deg,var(--neon-purple),var(--neon-green));border:none;color:black;font-weight:900;cursor:pointer">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
          <div id="serverListStatus" class="status-msg" style="min-height:24px;margin-top:8px"></div>
        </div>
        <button id="verifyBtn" style="margin-top:10px;">‚úÖ Verify</button>
      </div>

      <div class="server-boxes" role="region" aria-label="Servers">
        <div class="server-item" data-country="ru">
          <div class="card-reflect" aria-hidden="true"></div>
          <img class="main-img" src="https://i.ibb.co/0cM2fzX/wwii.png" alt="WWII" draggable="false" />
          <h3 class="sTitle">–ö–ª–∏–∫–Ω–∏—Ç–µ</h3>
          <p class="sSub">–î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –Ω–∞–ø–∏—à–∏—Ç–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É</p>
          <button class="connect-btn">–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è</button>
          <div class="server-status"></div>
        </div>

        <div class="server-item" data-country="tr">
          <div class="card-reflect" aria-hidden="true"></div>
          <img class="main-img" src="https://i.ibb.co/vQf5W8B/cs2.png" alt="CS2" draggable="false" />
          <h3 class="sTitle">–ö–ª–∏–∫–Ω–∏—Ç–µ</h3>
          <p class="sSub">–î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –Ω–∞–ø–∏—à–∏—Ç–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É</p>
          <button class="connect-btn">–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è</button>
          <div class="server-status"></div>
        </div>

        <div class="server-item" data-country="ir">
          <div class="card-reflect" aria-hidden="true"></div>
          <img class="main-img" src="https://picsum.photos/seed/3/640/360" alt="Other" draggable="false" />
          <h3 class="sTitle">–ö–ª–∏–∫–Ω–∏—Ç–µ</h3>
          <p class="sSub">–î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –Ω–∞–ø–∏—à–∏—Ç–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É</p>
          <button class="connect-btn">–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è</button>
          <div class="server-status"></div>
        </div>
      </div>

      <div id="game-section">
        <h2 class="game-title" id="gameTitle">Game ?</h2>
        <div id="game-options" style="display:flex;flex-wrap:wrap;gap:8px;justify-content:center;margin-top:8px">
          <button class="game-btn">Minecraft</button>
          <button class="game-btn">CS 2</button>
          <button class="game-btn">Rainbow Six</button>
          <button class="game-btn">Dota 2</button>
          <button class="game-btn">Rust</button>
          <button class="game-btn">Warzone</button>
          <button class="game-btn">Other</button>
        </div>
        <div id="selected-game" aria-live="polite">–ò–≥—Ä–∞ –Ω–µ –≤—ã–±—Ä–∞–Ω–∞</div>
      </div>

    </div>

    <footer style="margin-top:18px;">
      <a id="footerLink" href="https://sites.google.com/view/server-main-/%D8%B5%D9%81%D8%AD%D9%87-%D8%A7%D8%B5%D9%84%DB%8C" target="_blank" rel="noopener" style="color:var(--accent-pink);font-weight:900;text-decoration:none;">–ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã, –ø–æ—Å–µ—Ç–∏—Ç–µ —Å–∞–π—Ç 2 ‚Äî –Ω–∞–∂–º–∏—Ç–µ –∑–¥–µ—Å—å *</a>
    </footer>
  </div>

<script>
/* ====================
   Translations / i18n
   ==================== */
const I18N = {
  ru: {
    langTitle: '–í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫',
    langSubtitle: '–í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞',
    loaderTitle: 'NEON GALAXY',
    loaderSub: '–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ü–µ–Ω—ã...',
    downloadText: '–ü–µ—Ä–µ–¥ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º —Å–∫–∞—á–∞–π—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –∏ –ø–æ–º–µ—Å—Ç–∏—Ç–µ –≤ –ø–∞–ø–∫—É mods –≤ TLauncher. –í–µ—Ä—Å–∏—è: 1.20.1 Forge.',
    downloadUnavailable: '–§–∞–π–ª –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Äî –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–∂–∏–¥–∞–π—Ç–µ',
    autoConnect: 'auto connect',
    servers: '–°–µ—Ä–≤–µ—Ä–∞ ‚ñ≤',
    confirm: '–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å',
    verify: 'Verify',
    click: '–ö–ª–∏–∫–Ω–∏—Ç–µ',
    connectMsg: '–î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –Ω–∞–ø–∏—à–∏—Ç–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É',
    connecting: '–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...',
    disconnected: '–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–µ—Ä–≤–∞–Ω–æ',
    serverOnline: 'Server Online',
    gameNotSelected: '–ò–≥—Ä–∞ –Ω–µ –≤—ã–±—Ä–∞–Ω–∞',
    timeout: '–¢–∞–π–º–∞—É—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è',
    noticeTitle: '–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ',
    noticeBody: '–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–∞ —Å–∞–π—Ç–∞—Ö –¢—É—Ä—Ü–∏–∏ –∏ –ò—Ä–∞–Ω–∞ –∞–∫—Ç–∏–≤–Ω–∞. –ù–∞ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö –≤ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è. –ë–ª–∞–≥–æ–¥–∞—Ä–∏–º –∑–∞ —Ç–µ—Ä–ø–µ–Ω–∏–µ! –¢–∞–∫–∂–µ –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–π—Ç–∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é —á–µ—Ä–µ–∑ –Ω–∞—à Telegram –∏–ª–∏ Discord.',
    toastOk: '–û–ö'
  },
  en: {
    langTitle: 'Select Language',
    langSubtitle: 'Choose your interface language',
    loaderTitle: 'NEON GALAXY',
    loaderSub: 'Initializing scene...',
    downloadText: 'Before joining download this file and put it into the mods folder in TLauncher. Version: 1.20.1 Forge.',
    downloadUnavailable: 'File unavailable ‚Äî please wait',
    autoConnect: 'auto connect',
    servers: 'Servers ‚ñ≤',
    confirm: 'Confirm',
    verify: 'Verify',
    click: 'Click',
    connectMsg: 'To connect message the admin',
    connecting: 'Connecting...',
    disconnected: 'Connection lost',
    serverOnline: 'Server Online',
    gameNotSelected: 'Game not selected',
    timeout: 'Connection timeout',
    noticeTitle: 'Notice',
    noticeBody: 'Verification is active on Turkey and Iran sites. On Russian servers verification is not required (demo). Thank you for your patience! You can also verify via our Telegram or Discord.',
    toastOk: 'OK'
  }
};

let LANG = localStorage.getItem('ng_lang') || 'ru';

/* set UI texts */
function setTexts(){
  const t = I18N[LANG];
  document.getElementById('langTitle').textContent = t.langTitle;
  document.getElementById('langSubtitle').textContent = t.langSubtitle;
  document.getElementById('loaderTitle')?.remove?.(); // no global loader title element; safe
  document.getElementById('downloadText').textContent = t.downloadText;
  document.getElementById('autoTitle').textContent = t.autoConnect;
  document.getElementById('serverListToggle').textContent = t.servers;
  document.getElementById('confirmServer').textContent = t.confirm;
  document.getElementById('verifyBtn').textContent = t.verify;
  document.querySelectorAll('.sTitle').forEach(el=> el.textContent = t.click);
  document.querySelectorAll('.sSub').forEach(el=> el.textContent = t.connectMsg);
  document.getElementById('selected-game').textContent = t.gameNotSelected;
  document.getElementById('noticeTitle').textContent = t.noticeTitle;
  document.getElementById('noticeBody').textContent = t.noticeBody;
  document.getElementById('logoTitle').textContent = t.loaderTitle;
  document.getElementById('langToggle').title = LANG === 'ru' ? '–ò–∑–º–µ–Ω–∏—Ç—å —è–∑—ã–∫' : 'Change language';
  document.getElementById('footerLink').textContent = LANG === 'ru' ? '–ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã, –ø–æ—Å–µ—Ç–∏—Ç–µ —Å–∞–π—Ç 2 ‚Äî –Ω–∞–∂–º–∏—Ç–µ –∑–¥–µ—Å—å *' : 'If issues occur, visit site 2 ‚Äî click here *';
}

/* show/hide main page based on language selection */
const langModal = document.getElementById('langModal');
function openLangModal(){ langModal.style.display='flex'; }
function closeLangModal(){ langModal.style.display='none'; }

/* initial language flow */
if(!localStorage.getItem('ng_lang')){
  langModal.style.display='flex';
  document.getElementById('mainPage').setAttribute('aria-hidden','true');
} else {
  LANG = localStorage.getItem('ng_lang') || 'ru';
  langModal.style.display='none';
  document.getElementById('mainPage').removeAttribute('aria-hidden');
  setTexts();
}

/* language buttons */
document.querySelectorAll('.langBtn').forEach(btn=>{
  btn.addEventListener('click', ()=>{
    const code = btn.getAttribute('data-lang');
    LANG = code;
    localStorage.setItem('ng_lang', LANG);
    setTexts();
    closeLangModal();
    document.getElementById('mainPage').removeAttribute('aria-hidden');
  });
});

/* toggle button to reopen language modal */
document.getElementById('langToggle').addEventListener('click', ()=>{ langModal.style.display='flex'; });

/* toast */
const toast = document.getElementById('toast');
function showToast(msg, ms=3600){
  toast.textContent = msg;
  toast.classList.add('show');
  setTimeout(()=> toast.classList.remove('show'), ms);
}

/* download */
document.getElementById('downloadBtn').addEventListener('click', (e)=>{
  e.preventDefault();
  showToast(I18N[LANG].downloadUnavailable, 4200);
});

/* server list toggle (confirm) */
document.getElementById('serverListToggle').addEventListener('click', ()=>{
  const el = document.getElementById('serverList');
  if(el.style.opacity === '1'){ el.style.opacity='0'; el.style.maxHeight='0'; } else { el.style.opacity='1'; el.style.maxHeight='260px'; }
});

/* confirm server from dropdown -> show loader or error */
document.getElementById('confirmServer').addEventListener('click', ()=>{
  const val = document.getElementById('serverSelect').value;
  const status = document.getElementById('serverListStatus');
  status.innerHTML = '';
  if(val === '3'){ // simulate error for server 3
    const err = document.createElement('div'); err.className='error-anim'; err.textContent = I18N[LANG].disconnected;
    status.appendChild(err);
    return;
  }
  // show generic loader for list confirm
  const wrap = document.createElement('div'); wrap.className='loader-wrap';
  const label = document.createElement('div'); label.className='loader-name'; label.textContent = I18N[LANG].connecting;
  const bars = document.createElement('div'); bars.style.display='flex'; bars.style.gap='6px';
  for(let i=0;i<6;i++){
    const b = document.createElement('div'); b.style.width='8px'; b.style.height=(8+Math.random()*28)+'px'; b.style.background='linear-gradient(180deg,var(--neon-purple),var(--neon-green))'; b.style.borderRadius='6px'; b.style.boxShadow='0 0 12px rgba(138,60,255,0.08)'; b.style.animation='pulseBar 1s ease-in-out infinite'; b.style.animationDelay=(i*0.08)+'s'; bars.appendChild(b);
  }
  wrap.appendChild(label); wrap.appendChild(bars);
  status.appendChild(wrap);
  // after 3s show final
  setTimeout(()=>{ status.innerHTML=''; const ok = document.createElement('div'); ok.className='final-msg'; const m=document.createElement('div'); m.className='main'; m.textContent = I18N[LANG].connectMsg; const sub=document.createElement('div'); sub.className='sub'; const badge=document.createElement('div'); badge.className='online-badge'; const dot=document.createElement('div'); dot.className='dot'; badge.appendChild(dot); sub.appendChild(badge); const label2=document.createElement('div'); label2.textContent = I18N[LANG].serverOnline; sub.appendChild(label2); ok.appendChild(m); ok.appendChild(sub); status.appendChild(ok); }, 3000);
});

/* verify button -> notice modal */
document.getElementById('verifyBtn').addEventListener('click', ()=>{
  document.getElementById('noticeModal').style.display = 'flex';
  document.getElementById('noticeModal').setAttribute('aria-hidden','false');
});
function closeNotice(){ document.getElementById('noticeModal').style.display='none'; document.getElementById('noticeModal').setAttribute('aria-hidden','true'); }

/* server-item Connect buttons (each has its own loader type) */
document.querySelectorAll('.server-item').forEach(card=>{
  const btn = card.querySelector('.connect-btn');
  const status = card.querySelector('.server-status');
  const country = card.dataset.country || 'ru';

  btn.addEventListener('click', ()=>{
    // clear prior
    status.innerHTML = '';

    // switch loader by country
    if(country === 'ru'){
      // blackhole loader
      const stop = createBlackholeLoader(status);
      setTimeout(()=>{ stop(); showSuccess(status); }, 3000);
    } else if(country === 'tr'){
      // pulsing rings
      const stop = createPulseRings(status);
      setTimeout(()=>{ stop(); showSuccess(status); }, 3000);
    } else if(country === 'ir'){
      // linear wave bars
      const stop = createWaveBars(status);
      setTimeout(()=>{ stop(); showSuccess(status); }, 3000);
    } else {
      // fallback
      status.textContent = I18N[LANG].connecting;
      setTimeout(()=>{ status.textContent = I18N[LANG].connectMsg; }, 3000);
    }
  });
});

/* success message for server card */
function showSuccess(status){
  status.innerHTML = '';
  const ok = document.createElement('div'); ok.className='final-msg';
  const m=document.createElement('div'); m.className='main'; m.textContent = I18N[LANG].connectMsg;
  const sub=document.createElement('div'); sub.className='sub';
  const badge=document.createElement('div'); badge.className='online-badge'; const dot=document.createElement('div'); dot.className='dot'; badge.appendChild(dot);
  const label = document.createElement('div'); label.textContent = I18N[LANG].serverOnline;
  sub.appendChild(badge); sub.appendChild(label);
  ok.appendChild(m); ok.appendChild(sub);
  status.appendChild(ok);
}

/* blackhole loader (SVG rotating rings) */
function createBlackholeLoader(container){
  container.innerHTML = '';
  const svgNS = 'http://www.w3.org/2000/svg';
  const wrap = document.createElement('div'); wrap.className='loader-wrap';
  const svg = document.createElementNS(svgNS,'svg'); svg.setAttribute('viewBox','0 0 96 96'); svg.setAttribute('width','100'); svg.setAttribute('height','100');
  svg.innerHTML = `
    <defs>
      <radialGradient id="gh1" cx="50%" cy="50%">
        <stop offset="0%" stop-color="#ffffff" stop-opacity="0.9"/>
        <stop offset="50%" stop-color="#8a3cff" stop-opacity="0.6"/>
        <stop offset="85%" stop-color="#00ff88" stop-opacity="0.12"/>
        <stop offset="100%" stop-color="#000000" stop-opacity="0.0"/>
      </radialGradient>
    </defs>
    <g id="gwrap"><circle cx="48" cy="48" r="20" fill="url(#gh1)"></circle><g id="rings"></g></g>
  `;
  wrap.appendChild(svg);
  container.appendChild(wrap);

  const rings = svg.querySelector('#rings');
  for(let i=0;i<6;i++){
    const el = document.createElementNS(svgNS,'ellipse');
    el.setAttribute('cx','48'); el.setAttribute('cy','48');
    el.setAttribute('rx', String(26 + i*6)); el.setAttribute('ry', String(8 + i*3));
    el.setAttribute('fill','none'); el.setAttribute('stroke', i%2? '#00ff88' : '#8a3cff');
    el.setAttribute('stroke-width','1'); el.setAttribute('opacity', String(0.2 - i*0.02));
    rings.appendChild(el);
  }

  let start = performance.now(), running = true;
  function step(now){
    if(!running) return;
    const t = (now - start)/1000;
    rings.querySelectorAll('ellipse').forEach((el, idx)=>{
      el.style.transform = `rotate(${t*(30 + idx*12)}deg)`;
      el.style.transformOrigin = '48px 48px';
    });
    requestAnimationFrame(step);
  }
  requestAnimationFrame(step);
  // return stop function
  return ()=>{ running = false; container.innerHTML = ''; };
}

/* pulse rings loader (for TR) */
function createPulseRings(container){
  container.innerHTML = '';
  const wrap = document.createElement('div'); wrap.className='loader-wrap';
  const label = document.createElement('div'); label.className='loader-name'; label.textContent = I18N[LANG].connecting;
  const palette = document.createElement('div'); palette.style.display='flex'; palette.style.gap='10px';
  for(let i=0;i<4;i++){
    const ring = document.createElement('div');
    ring.style.width='18px'; ring.style.height='18px'; ring.style.borderRadius='50%';
    ring.style.border='2px solid rgba(138,60,255,0.9)';
    ring.style.boxShadow='0 0 18px rgba(138,60,255,0.12)';
    ring.style.animation = `pulseRing 1.2s ${i*0.12}s ease-in-out infinite`;
    palette.appendChild(ring);
  }
  const style = document.createElement('style'); style.textContent = `
    @keyframes pulseRing{0%{transform:scale(0.55);opacity:0.8}50%{transform:scale(1.3);opacity:1}100%{transform:scale(0.6);opacity:0.6}}
  `;
  document.head.appendChild(style);
  wrap.appendChild(label); wrap.appendChild(palette); container.appendChild(wrap);
  let alive = true;
  return ()=>{ alive=false; container.innerHTML=''; style.remove?.(); };
}

/* wave bars loader (for IR) */
function createWaveBars(container){
  container.innerHTML = '';
  const wrap = document.createElement('div'); wrap.className='loader-wrap';
  const label = document.createElement('div'); label.className='loader-name'; label.textContent = I18N[LANG].connecting;
  const bars = document.createElement('div'); bars.style.display='flex'; bars.style.gap='8px'; bars.style.alignItems='end';
  for(let i=0;i<6;i++){
    const b = document.createElement('div');
    b.style.width='8px'; b.style.height='10px'; b.style.background='linear-gradient(180deg,#00ff88,#006644)'; b.style.borderRadius='6px';
    b.style.animation = `waveBar 1s ${i*0.12}s ease-in-out infinite`;
    bars.appendChild(b);
  }
  const style = document.createElement('style'); style.textContent = `
    @keyframes waveBar{0%{transform:scaleY(.35)}50%{transform:scaleY(1.2)}100%{transform:scaleY(.5)}}
  `;
  document.head.appendChild(style);
  wrap.appendChild(label); wrap.appendChild(bars); container.appendChild(wrap);
  return ()=>{ container.innerHTML=''; style.remove?.(); };
}

/* ===========================
   Game selection RGB effect
   =========================== */
document.querySelectorAll('#game-options .game-btn').forEach(btn=>{
  btn.addEventListener('click', ()=>{
    const name = btn.textContent.trim();
    const el = document.getElementById('selected-game');
    el.textContent = name;
    el.style.backgroundImage = 'linear-gradient(90deg,#ff004d,#ff8a00,#ffef00,#00ff88,#6a2bd6)';
    el.style.webkitBackgroundClip = 'text';
    el.style.color = 'transparent';
  });
});

/* ===========================
   Canvas: neon elongated streaks (magnetic)
   =========================== */
const canvas = document.getElementById('bgCanvas');
const ctx = canvas.getContext('2d', { alpha: true });
let DPR = Math.min(devicePixelRatio || 1, 2);
let W = innerWidth, H = innerHeight;
function resizeCanvas(){
  W = canvas.width = innerWidth * DPR;
  H = canvas.height = innerHeight * DPR;
  canvas.style.width = innerWidth + 'px';
  canvas.style.height = innerHeight + 'px';
  ctx.setTransform(DPR,0,0,DPR,0,0);
}
resizeCanvas();
window.addEventListener('resize', ()=>{ resizeCanvas(); });

/* pieces */
const PIECE_COUNT = 80; // desktop heavy
const pieces = [];
for(let i=0;i<PIECE_COUNT;i++){
  pieces.push({
    x: Math.random()*innerWidth,
    y: Math.random()*innerHeight,
    vx: (Math.random()-0.5)*0.3,
    vy: (Math.random()-0.5)*0.3,
    len: 30 + Math.random()*80,
    rot: Math.random()*Math.PI*2,
    hue: Math.random()>0.5 ? 'p' : 'g',
    life: 40 + Math.random()*160
  });
}

const pointer = { x: innerWidth/2, y: innerHeight/2, active:false };

/* pointer handling */
window.addEventListener('mousemove', (e)=>{
  pointer.x = e.clientX;
  pointer.y = e.clientY;
  pointer.active = true;
});
window.addEventListener('mouseout', ()=>{ pointer.active = false; });

/* helper color */
function colFor(h){
  if(h==='p') return { r:138, g:60, b:255 };
  return { r:0, g:255, b:136 };
}

/* draw loop */
function draw(){
  // soft clear for trails
  ctx.fillStyle = 'rgba(2,2,5,0.14)';
  ctx.fillRect(0,0,innerWidth,innerHeight);

  // subtle vignette
  const vg = ctx.createLinearGradient(0,0,0,innerHeight);
  vg.addColorStop(0,'rgba(0,0,0,0.04)');
  vg.addColorStop(1,'rgba(0,0,0,0.14)');
  ctx.fillStyle = vg;
  ctx.fillRect(0,0,innerWidth,innerHeight);

  // update pieces
  for(let p of pieces){
    // magnetic pull to pointer
    if(pointer.active){
      const dx = pointer.x - p.x;
      const dy = pointer.y - p.y;
      const d2 = Math.max(100, dx*dx + dy*dy);
      const pull = 5000 / d2; // tune magnet strength
      p.vx += dx * pull * 0.00008;
      p.vy += dy * pull * 0.00008;
    } else {
      p.vx += (Math.random()-0.5)*0.02;
      p.vy += (Math.random()-0.5)*0.02;
    }

    // friction
    p.vx *= 0.985; p.vy *= 0.985;

    p.x += p.vx; p.y += p.vy;
    p.rot += 0.005 + (p.vx+p.vy)*0.02;

    // wrap
    if(p.x < -120) p.x = innerWidth + 120;
    if(p.x > innerWidth + 120) p.x = -120;
    if(p.y < -120) p.y = innerHeight + 120;
    if(p.y > innerHeight + 120) p.y = -120;

    // draw elongated fragment
    ctx.save();
    ctx.translate(p.x, p.y);
    ctx.rotate(p.rot);
    const segs = Math.max(3, Math.floor(p.len / 24));
    for(let s=0;s<segs;s++){
      const sx = -p.len*0.45 + (p.len/segs)*s + Math.sin(p.rot*2 + s)*2;
      const sy = Math.sin((s + p.rot)*1.3)*1.6;
      const w = 2 + Math.random()*3;
      const c = colFor(p.hue);
      // gradient
      const g = ctx.createLinearGradient(sx, sy, sx+40, sy);
      g.addColorStop(0, `rgba(${c.r},${c.g},${c.b},0.06)`);
      g.addColorStop(0.4, `rgba(${c.r},${c.g},${c.b},0.26)`);
      g.addColorStop(1, `rgba(255,255,255,0.02)`);
      ctx.fillStyle = g;
      ctx.beginPath();
      // rounded rect
      const rw = Math.max(8, p.len/segs - 6);
      roundRect(ctx, sx, sy, rw, w, 4);
      ctx.fill();
      // glow
      ctx.shadowColor = `rgba(${c.r},${c.g},${c.b},0.85)`;
      ctx.shadowBlur = 20;
      ctx.fill();
      ctx.shadowBlur = 0;
    }
    ctx.restore();

    p.life -= 0.015;
    if(p.life < 0){
      p.x = Math.random()*innerWidth; p.y = Math.random()*innerHeight;
      p.vx = (Math.random()-0.5)*0.4; p.vy = (Math.random()-0.5)*0.4;
      p.len = 30 + Math.random()*90; p.life = 40 + Math.random()*160; p.hue = Math.random()>0.5?'p':'g';
    }
  }

  // subtle stars
  for(let i=0;i<8;i++){
    const sx = (i*137 + (Date.now()*0.01)) % innerWidth;
    const sy = (i*73 + 40) % innerHeight;
    ctx.fillStyle = 'rgba(255,255,255,0.03)';
    ctx.fillRect(sx, sy, 1.5, 1.5);
  }

  requestAnimationFrame(draw);
}

/* helper rounded rect */
function roundRect(ctx, x, y, w, h, r){
  if(w < 2*r) r = w/2;
  if(h < 2*r) r = h/2;
  ctx.moveTo(x+r, y);
  ctx.arcTo(x+w, y, x+w, y+h, r);
  ctx.arcTo(x+w, y+h, x, y+h, r);
  ctx.arcTo(x, y+h, x, y, r);
  ctx.arcTo(x, y, x+w, y, r);
  ctx.closePath();
}

/* start */
setTimeout(()=>{ draw(); document.getElementById('mainPage').removeAttribute('aria-hidden'); }, 380);

/* accessibility cleanup */
window.addEventListener('beforeunload', ()=>{ document.querySelectorAll('.server-item').forEach(c=>{ if(c._timers) c._timers.forEach(t=>clearTimeout(t)); }); });

</script>
</body>
</html>
